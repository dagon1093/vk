!function(e){function t(t){for(var i,r,s=t[0],u=t[1],a=t[2],d=0,_=[];d<s.length;d++)r=s[d],c[r]&&_.push(c[r][0]),c[r]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i]);for(l&&l(t);_.length;)_.shift()();return n.push.apply(n,a||[]),o()}function o(){for(var e,t=0;t<n.length;t++){for(var o=n[t],i=!0,s=1;s<o.length;s++){var u=o[s];0!==c[u]&&(i=!1)}i&&(n.splice(t--,1),e=r(r.s=o[0]))}return e}var i={},c={"web/feed_assistance":0},n=[];function r(t){if(i[t])return i[t].exports;var o=i[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=i,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(o,i,function(t){return e[t]}.bind(null,i));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/js/cmodules/";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var a=0;a<s.length;a++)t(s[a]);var l=u;n.push([129,"bundles/common"]),o()}({129:function(e,t,o){e.exports=o("SsHH")},SsHH:function(e,t,o){"use strict";o.r(t);o("rGqo"),o("Btvt");var i=o("ryw6"),c=o("7jxN"),n=o("4+be"),r=o("v+DW"),s=o("EasH"),u=o("kcIO"),a=o("FWc3"),l=o("zxIV"),d=o("t7n3"),_=o("Egk5"),h={show:function(e,t){Object(l.isVisible)(e)||Object(c.slideDown)(e,150,t)},hide:function(e,t){Object(l.isVisible)(e)&&Object(c.slideUp)(e,150,t)},hideBlock:function(e,t,o){t&&o&&ajax.post("al_feed.php?act=a_hide_assistance",{type:t,hash:o}),e=Object(l.domClosest)("_block",e),h.hide(e)},tipShow:function(e,t,o,i){e=Object(l.ge)(e),o||(o=[-10,-15]);var c=function(){Object(a.showTooltip)(e,{text:Object(n.getLang)(t),dir:"left",slideX:15,className:"feed_asc_tt"+(i?" "+i:""),shift:o,onCreate:_.removeEvent.pbind(e,"mouseout")})};vk.loaded?setTimeout(c,0):Object(_.addEvent)(window,"load",c)},tipHide:function(e){(e=Object(l.ge)(e))&&e.tt&&e.tt.hide&&e.tt.hide()},ownerPhoto:function(e){cur.shareSetOwnPhoto=function(t){if(Object(u.curBox)()&&Object(u.curBox)().hide(),t){var o=Object(l.geByTag1)("img",Object(l.ge)("top_profile_link"));o&&(o.src=t)}h.hideBlock(e)},Page.ownerPhoto()},initEduBlock:function(e,t){cur.skipHints=t.country||t.city,cur.cityUpdated=t.city,selectsData.setCountries(t.countries_list),Object.keys(t.countries||{}).forEach(function(e){selectsData.setCountryInfo(e,t.countries[e])}),Object.keys(t.cities||{}).forEach(function(e){selectsData.setCityInfo(e,t.cities[e])}),"school"===e?(t.school||Object(r.disableButton)("feeas_asc_edu_save",!0),cur.uiClass=new ClassSelect(Object(l.ge)("school_class"),Object(l.ge)("school_class_row"),{show:h.show,hide:h.hide,country:t.country,school:t.school,school_class:t.school_class,zeroPlaceholder:!0,dark:1}),cur.uiSchool=new SchoolHintSelect(Object(l.ge)("school_school"),Object(l.ge)("school_school_row"),{show:function(e){h.show(e),cur.cityUpdated&&(cur.cityUpdated=!1,setTimeout(h.focusEdu.pbind("school"),500))},hide:function(e){h.hide(e),h.tipHide("school_school_tip")},progressBar:"school_progress",city:t.city,school:t.school,classSelect:cur.uiClass,onChange:function(e){Object(d.intval)(e)?(h.show("school_details"),h.tipHide("school_school_tip"),h.eduYearTip("school")):(h.hide("school_details"),h.tipHide("school_graduation_tip"),setTimeout(h.focusEdu.pbind("school"),500)),Object(r.disableButton)("feeas_asc_edu_save",!Object(d.intval)(e)),cur.uiClass.clear(),cur.uiGraduation.clear(),cur.skipHints=!1},dark:1})):(t.university||Object(r.disableButton)("feeas_asc_edu_save",!0),cur.uiChair=new ChairSelect(Object(l.ge)("uni_chair"),Object(l.ge)("uni_chair_row"),{show:h.show,hide:h.hide,progressBar:"uni_progress",faculty:t.faculty,chair:t.chair,onChange:function(e){Object(d.intval)(e)?Object(l.hide)("u_add_chair_to_db"):t.showAddChair&&Object(l.show)("u_add_chair_to_db")},zeroPlaceholder:!0,dark:1}),cur.uiFaculty=new FacultySelect(Object(l.ge)("uni_faculty"),Object(l.ge)("uni_faculty_row"),{show:h.show,hide:h.hide,progressBar:"uni_progress",university:t.university,faculty:t.faculty,chairSelect:cur.uiChair,onChange:function(e){Object(d.intval)(e)?Object(l.hide)("u_add_fac_to_db"):t.showAddFaculty&&Object(l.show)("u_add_fac_to_db")},dark:1}),cur.uiUniversity=new UniversitySelect(Object(l.ge)("uni_university"),Object(l.ge)("uni_university_row"),{show:function(e){h.show(e),cur.cityUpdated&&(cur.cityUpdated=!1,setTimeout(h.focusEdu.pbind("uni"),500))},hide:function(e){h.hide(e),h.tipHide("uni_university_tip")},progressBar:"uni_progress",city:t.city,university:t.university,eduFormSelect:cur.uiEducationForm,eduStatusSelect:cur.uiEducationStatus,facultySelect:cur.uiFaculty,onChange:function(e){Object(d.intval)(e)?(h.show("uni_details"),h.tipHide("uni_university_tip"),h.eduYearTip("uni")):(h.hide("uni_details"),h.tipHide("uni_graduation_tip"),setTimeout(h.focusEdu.pbind("uni"),500)),Object(r.disableButton)("feeas_asc_edu_save",!Object(d.intval)(e)),cur.uiGraduation.clear(),cur.skipHints=!1},dark:1})),cur.uiGraduation=new Dropdown(Object(l.ge)(e+"_graduation"),t.graduations,{autocomplete:!0,placeholder:Object(n.getLang)("select_graduation_not_selected"),noResult:Object(n.getLang)("select_year_not_found"),selectedItems:t.graduation,onChange:function(t){Object(d.intval)(t)?h.tipHide(e+"_graduation_tip"):cur.uiGraduation.clear()},dark:1}),cur.uiCity=new CitySelect(Object(l.ge)(e+"_city"),Object(l.ge)(e+"_city_row"),{show:function(t){setTimeout(function(){Object(d.intval)(cur.uiCity.val())||cur.skipHints||h.tipShow(e+"_city_tip","intro_"+e+"_city_tip")},0),h.show(t)},hide:function(t){h.tipHide(e+"_city_tip"),h.hide(t)},progressBar:e+"_progress",country:t.country,city:t.city_val,schoolSelect:"school"===e&&cur.uiSchool,universitySelect:"uni"===e&&cur.uiUniversity,maxItemsShown:function(e){return e>6?500:350},onChange:function(t){Object(d.intval)(t)?h.tipHide(e+"_city_tip"):Object(d.intval)(cur.uiCountry.val())&&h.tipShow(e+"_city_tip","intro_"+e+"_city_tip"),cur.cityUpdated=!0,cur.skipHints=!1},dark:1}),cur.uiCountry=new CountrySelect(Object(l.ge)(e+"_country"),Object(l.ge)(e+"_country_row"),{show:h.show,hide:h.hide,progressBar:e+"_progress",country:t.country_val,eduFormSelect:"uni"===e&&cur.uiEducationForm,eduStatusSelect:"uni"===e&&cur.uiEducationStatus,classSelect:"school"===e&&cur.uiClass,citySelect:cur.uiCity,noDefaultCountry:1,dark:1})},focusEdu:function(e){var t="school"===e?cur.uiSchool:cur.uiUniversity;!Object(d.intval)(cur.uiCity.val())||Object(d.intval)(t.val())||cur.skipHints||(t.focusSelf=!0,t.focus(),t.select.hide(),"school"===e?h.tipShow("school_school_tip","intro_school_tip"):h.tipShow("uni_university_tip","intro_uni_tip"))},eduYearTip:function(e){Object(d.intval)(cur.uiGraduation.val())?h.tipHide(e+"_graduation_tip"):h.tipShow(e+"_graduation_tip","intro_"+e+"_year_tip",!1,"feed_asc_year_tt")},revealBirthday:function(e,t,o){ajax.post("al_profileEdit.php",{act:"a_reveal_birthday",from:"feed_assistance",hash:o},{onDone:function(i){i.msg&&i.msg.length&&window.showDoneBox(i.msg),ajax.post("/al_index.php",{act:"hide_internal_notification",reason:"accept",id:t,hash:o}),p.hideNotificationWithoutLog(e)},showProgress:r.lockButton.pbind(e),hideProgress:r.unlockButton.pbind(e)})},saveSchool:function(e,t){var o={act:"a_save_education_school",from:"feed_assistance",school0id:1,school0country:cur.uiCountry.val(),school0city:cur.uiCity.val(),school0school:cur.uiSchool.val(),school0graduation:cur.uiGraduation.val(),school0class:cur.uiClass.val(),hash:t};ajax.post("al_profileEdit.php",o,{onDone:function(t,o,i){i?(Object(l.ge)("feed_asc_edu_cont").innerHTML=t,cur.eduUsersParams=o,cur.eduUsersParams.offset=i):h.hideBlock(e)},showProgress:r.lockButton.pbind(e),hideProgress:r.unlockButton.pbind(e)})},saveUni:function(e,t){var o={act:"a_save_education_uni",from:"feed_assistance",primary_unicountry:cur.uiCountry.val(),primary_unicity:cur.uiCity.val(),primary_uniuniversity:cur.uiUniversity.val(),primary_unigraduation:cur.uiGraduation.val(),primary_unifaculty:cur.uiFaculty.val(),primary_unichair:cur.uiChair.val(),hash:t};ajax.post("al_profileEdit.php",o,{onDone:function(t,o,i){i?(Object(l.ge)("feed_asc_edu_cont").innerHTML=t,cur.eduUsersParams=o,cur.eduUsersParams.offset=i):h.hideBlock(e)},showProgress:r.lockButton.pbind(e),hideProgress:r.unlockButton.pbind(e)})},moreEduUsers:function(e,t){var o=Object(l.geByClass1)("_preload","feed_asc_edu_cont");Object(l.show)(o),Object(l.removeClass)(o,"_preload");var i={act:"a_more_edu_users",type:e};i=Object(d.extend)(i,cur.eduUsersParams),ajax.post("al_feed.php",i,{onDone:function(e,o){o?(Object(l.ge)("feed_asc_eu_rows").appendChild(Object(l.ce)("div",{className:"_preload unshown",innerHTML:e})),cur.eduUsersParams.offset+=o):Object(l.re)(t)},showProgress:r.lockButton.pbind(t),hideProgress:r.unlockButton.pbind(t)})},initUsersBlock:function(){var e=Object(l.ge)("ui_pop_users_load_more");e&&(cur.userAutoScroll=new AutoList("feed_asc_users",{onNoMore:l.re.pbind(e),onNeedRows:function(e,t){ajax.post("al_feed.php",{act:"a_more_pop_users",offset:t},{onDone:e})},showProgress:r.lockButton.pbind(e),hideProgress:r.unlockButton.pbind(e),rowClass:"feed_asc_user_row"}),cur.feedDestroy||(cur.feedDestroy=[]),cur.feedDestroy.push(function(){cur.userAutoScroll.destroy()}))},userSubscribe:function(e,t,o){if(!Object(r.buttonLocked)(e)){var i=Object(l.hasClass)(e,"secondary"),c={showProgress:r.lockButton.pbind(e),hideProgress:r.unlockButton.pbind(e),onDone:function(){Object(l.toggleClass)(e,"secondary")}};ajax.post("al_friends.php",{act:i?"remove":"add",mid:t,hash:o,from:"feed_assistance"},c)}},initCityBlock:function(e){selectsData.setCountries(e.countries),selectsData.setCities(e.country,e.cities),cur.uiCity=new CitySelect(Object(l.ge)("city_city"),Object(l.ge)("city_city_row"),{progressBar:Object(l.ge)("city_progress"),placeholder:Object(n.getLang)("intro_feed_choose_city"),city:e.city_val,country:e.country,maxItemsShown:function(e){return e>6?500:350},big:!0,zeroPlaceholder:!0}),cur.uiCountry=new CountrySelect(Object(l.ge)("city_country"),Object(l.ge)("city_country_row"),{progressBar:Object(l.ge)("city_progress"),placeholder:Object(n.getLang)("intro_feed_choose_country"),country:e.country_val,citySelect:cur.uiCity,noDefaultCountry:1,big:!0})},saveCity:function(e,t){Object(l.val)("feed_asc_city_result","");var o={act:"a_fill_citybox",country:cur.uiCountry.val(),city:cur.uiCity.val(),hash:t};return Object(d.intval)(o.country)?Object(d.intval)(o.city)?void ajax.post("al_profileEdit.php",o,{onDone:function(t){h.hideBlock(e),Object(u.showDoneBox)(t)},onFail:function(e){return Object(i.showMsg)("feed_asc_city_result",e,"error",!0),!0},showProgress:r.lockButton.pbind(e),hideProgress:r.unlockButton.pbind(e)}):(Object(r.notaBene)(Object(l.geByClass1)("selector",cur.uiCity.container),!1,!0),void Object(r.notaBene)(Object(l.geByClass1)("selector_input",cur.uiCity.container),!1,!0)):(Object(r.notaBene)(Object(l.geByClass1)("selector",cur.uiCountry.container),!1,!0),void Object(r.notaBene)(Object(l.geByClass1)("selector_input",cur.uiCountry.container),!1,!0))},anotherCity:function(){Object(l.hide)("feed_asc_avg_city"),Object(l.show)("feed_asc_select_city")}},p={hide:function(e,t,o){p.hideNotificationWithoutLog(e),ajax.post("/al_index.php",{act:"hide_internal_notification",reason:"decline",id:t,hash:o}),e&&e.tt&&e.tt.destroy()},hideNotificationWithoutLog:function(e){var t=Object(l.domClosest)("_block",e);t&&Object(c.slideUp)(t,200)},click:function(e,t,o,i,n,u,a){switch(u){case"add_custom_newsfeed":window.Feed&&window.Feed.toggleCustomFeedTab(e,a);break;case"show_gifts":return Object(s.showBox)("al_gifts.php",{act:"get_gift_box",hide_notification:t,ref:"internal_notification"},{stat:["gifts.css","wide_dd.js","wide_dd.css"],dark:1});case"reveal_bdya":return h.revealBirthday(e,t,i);case"open_url":default:if(49==t)return Object(s.showBox)("landings.php",{act:"donors_day_edit_box",from_snippet:1})}if(ajax.post("/al_index.php",{act:"hide_internal_notification",reason:"accept",id:t,hash:i}),!o){var d=Object(l.domClosest)("_block",e);return d&&Object(c.slideUp)(d,200),!1}if(0===o.indexOf("https://vk.me"))return p.hideNotificationWithoutLog(e),window.open(o);if(Object(r.lockButton)(e),0===o.indexOf("?")){var _=nav.fromStr(o);return delete _[0],Object(r.unlockButton)(e),nav.change(_)}return nav.go(o,n,{noback:!0})}};window.FeedAssistance=h,window.FeedNotifications=p;try{stManager.done(jsc("web/feed_assistance.js"))}catch(e){}}});